#!/usr/bin/ruby

# Get the base directory of the WFM installation
if File.symlink?(__FILE__)
  __WFMDIR__=File.dirname(File.dirname(File.expand_path(File.readlink(__FILE__),File.dirname(__FILE__))))
else
  __WFMDIR__=File.dirname(File.expand_path(File.dirname(__FILE__)))
end

# Add include paths for WFM and libxml-ruby libraries
$:.unshift("#{__WFMDIR__}/lib")
$:.unshift("#{__WFMDIR__}/libxml-ruby/lib")
$:.unshift("#{__WFMDIR__}/libxml-ruby/ext/libxml")
$:.unshift("#{__WFMDIR__}/sqlite3-ruby/lib")
$:.unshift("#{__WFMDIR__}/sqlite3-ruby/ext")
$:.unshift("#{__WFMDIR__}/SystemTimer-1.2.3/lib")
$:.unshift("#{__WFMDIR__}/SystemTimer-1.2.3/ext/system_timer")

# Load workflow engine library
require 'workflowmgr/workflowengine'

WorkflowMgr::VERSION="0.0.1"

# Create workflow engine and run it
workflowengine=WorkflowMgr::WorkflowEngine.new(ARGV)
workflowengine.run

